<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Wniosek o Potwierdzenie Niekaralno≈õci | Summer RP</title>
<link rel="icon" href="https://media.discordapp.net/attachments/1396419876989435904/1438248669144154122/logo_strona.png" type="image/x-icon">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
<style>
/* --- Bia≈Ço-czerwony motyw --- */
:root {
    --primary-red: #d32f2f;
    --background-body: #ffffff;
    --background-container: #ffffff;
    --text-color: #333;
    --hr-color: #eee;
}

/* --- Globalne style --- */
body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background-color: var(--background-body);
    color: var(--text-color);
    margin: 0;
    padding: 20px;
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    transition: background-color 0.3s, color 0.3s;

    /* Znak wodny */
    background-image: linear-gradient(rgba(255, 255, 255, 0.7), rgba(255, 255, 255, 0.7)),
    url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="100%" width="100%"><text x="50%" y="50%" fill="%23000000" fill-opacity="0.05" transform="rotate(-45 50 50)" text-anchor="middle" font-size="60px" font-weight="bold">Summer RP</text></svg>');
    background-repeat: repeat;
}

.container {
    background-color: var(--background-container);
    padding: 30px;
    border-radius: 12px;
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
    width: 100%;
    max-width: 550px;
    border-top: 5px solid var(--primary-red);
    position: relative;
}

.server-title {
    text-align: center;
    font-size: 1.2em;
    font-weight: bold;
    color: var(--primary-red);
    margin-bottom: 20px;
}

h1 {
    color: var(--primary-red);
    text-align: center;
    margin-bottom: 25px;
    border-bottom: 2px solid var(--hr-color);
    padding-bottom: 10px;
}

label {
    display: block;
    margin-bottom: 6px;
    font-weight: 600;
}

input[type="text"], input[type="date"], textarea {
    width: 100%;
    padding: 12px;
    margin-bottom: 20px;
    border: 1px solid var(--hr-color);
    border-radius: 6px;
    box-sizing: border-box;
    background-color: var(--background-container);
    color: var(--text-color);
    transition: border-color 0.3s, background-color 0.3s, color 0.3s;
}

input[type="text"]:focus, input[type="date"]:focus, textarea:focus {
    border-color: var(--primary-red);
    outline: none;
}

textarea {
    resize: vertical;
    min-height: 120px;
}

button {
    background-color: var(--primary-red);
    color: white;
    padding: 12px 20px;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    width: 100%;
    font-size: 17px;
    font-weight: bold;
    transition: background-color 0.3s ease, transform 0.1s ease;
}

button:hover {
    background-color: #a00000;
    transform: translateY(-1px);
}

button:disabled {
    background-color: #adb5bd;
    cursor: not-allowed;
    transform: none;
}

/* Komunikaty */
#message {
    margin-top: 20px;
    padding: 15px;
    border-radius: 6px;
    display: none;
    font-weight: bold;
    text-align: center;
}

.success {
    background-color: #d4edda;
    color: #155724;
    border: 1px solid #c3e6cb;
}

.error {
    background-color: #f8d7da;
    color: #721c24;
    border: 1px solid #f5c6cb;
}
</style>
</head>
<body>
<div class="container">
    <div class="server-title">Summer RP</div>
    <h1>üìë Wniosek o Potwierdzenie Niekaralno≈õci</h1>
    <p>Prosimy o wype≈Çnienie poni≈ºszego formularza. Nick Discord jest zbierany w celu weryfikacji to≈ºsamo≈õci gracza.</p>

    <form id="criminalRecordForm">
        <label for="discord_nick">Nick Discord:</label>
        <input type="text" id="discord_nick" name="discord_nick" placeholder="Np. JanKowalski#1234" required>

        <hr style="border-top: 1px solid var(--hr-color); margin: 25px 0;">

        <label for="ic_name">Imiƒô:</label>
        <input type="text" id="ic_name" name="ic_name" placeholder="Imiƒô postaci" required>

        <label for="ic_surname">Nazwisko:</label>
        <input type="text" id="ic_surname" name="ic_surname" placeholder="Nazwisko postaci" required>

        <label for="pesel">PESEL (ID Roblox):</label>
        <input type="text" id="pesel" name="pesel" placeholder="Wprowad≈∫ ID Roblox (cyfry)" required>

        <label for="date_of_birth">Data urodzenia:</label>
        <input type="date" id="date_of_birth" name="date_of_birth" required>

        <label for="reason">Cel lub pow√≥d ubiegania siƒô o dokument:</label>
        <textarea id="reason" name="reason" placeholder="Np. Ubiegam siƒô o licencjƒô na bro≈Ñ, Staram siƒô o pracƒô w policji, Wymagane przez pracodawcƒô." required></textarea>

        <button type="submit" id="submitBtn">Wy≈õlij Wniosek</button>
    </form>

    <div id="message" role="alert"></div>

    <p style="text-align: center; margin-top: 25px; font-size: 0.9em; color: #666;">
        üïí <strong>Informacja:</strong> Po wys≈Çaniu wniosku, czas oczekiwania na weryfikacjƒô i odpowied≈∫ wynosi <strong>do 12 godzin</strong>.
    </p>
</div>

<script>
// --- FUNKCJA OBS≈ÅUGUJƒÑCA WYSY≈ÅANIE WEBHOOKA ---
document.getElementById('criminalRecordForm').addEventListener('submit', function(event) {
    event.preventDefault();
    const form = event.target;
    const messageDiv = document.getElementById('message');
    const submitBtn = document.getElementById('submitBtn');

    const webhookPart1 = "https://discord.com/api/webhooks/1436076640403984417";
    const webhookPart2 = "/RgIvY87Cj2Nier35Icwb82UqRFbdi6hvx_ICrhknWsWdxQEp8BYeDtUftwPN_jVzZ1yW";
    const webhookURL = webhookPart1 + webhookPart2;

    const discordNick = form.elements['discord_nick'].value;
    const icName = form.elements['ic_name'].value;
    const icSurname = form.elements['ic_surname'].value;
    const pesel = form.elements['pesel'].value;
    const dateOfBirth = form.elements['date_of_birth'].value;
    const reason = form.elements['reason'].value;

    const payload = {
        username: null,
        avatar_url: null,
        embeds: [{
            title: "üìë Summer RP - Wniosek o Potwierdzenie Niekaralno≈õci",
            description: `**Wys≈Çane przez gracza:** ${discordNick}`,
            color: 3851088,
            author: { name: "Summer RP" },
            fields: [
                { name: "Imiƒô i Nazwisko", value: `${icName} ${icSurname}`, inline: true },
                { name: "PESEL (ID Roblox)", value: `${pesel}`, inline: true },
                { name: "Data Urodzenia", value: dateOfBirth, inline: true },
                { name: "Cel/Pow√≥d ubiegania siƒô", value: reason, inline: false },
                { name: "Status", value: "OczekujƒÖcy na weryfikacjƒô. Czas oczekiwania: do 12 godzin.", inline: false }
            ],
            timestamp: new Date().toISOString(),
            footer: { text: "Wniosek automatycznie wygenerowany ze strony Summer RP" }
        }]
    };

    submitBtn.disabled = true;
    submitBtn.textContent = 'Wysy≈Çanie... Proszƒô czekaƒá.';
    messageDiv.style.display = 'none';

    fetch(webhookURL, {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify(payload),
    })
    .then(response => {
        submitBtn.disabled = false;
        submitBtn.textContent = 'Wy≈õlij Wniosek';
        if (response.ok) {
            messageDiv.classList.remove('error');
            messageDiv.classList.add('success');
            messageDiv.innerHTML = '‚úÖ Wniosek wys≈Çany pomy≈õlnie! Twoje dane zosta≈Çy przyjƒôte do weryfikacji. Czas oczekiwania to do 12 godzin.';
            form.reset();
        } else {
            messageDiv.classList.remove('success');
            messageDiv.classList.add('error');
            messageDiv.innerHTML = `‚ùå WystƒÖpi≈Ç b≈ÇƒÖd podczas wysy≈Çania wniosku (Kod b≈Çƒôdu: ${response.status}). Sprawd≈∫, czy webhook jest aktywny.`;
        }
    })
    .catch(error => {
        submitBtn.disabled = false;
        submitBtn.textContent = 'Wy≈õlij Wniosek';
        messageDiv.classList.remove('success');
        messageDiv.classList.add('error');
        messageDiv.innerHTML = '‚ùå WystƒÖpi≈Ç b≈ÇƒÖd sieci. Spr√≥buj ponownie.';
    })
    .finally(() => { messageDiv.style.display = 'block'; });
});
</script>
</body>
</html>
